import ccxt
import ttm
import keyring

#
# Init
#
data_folder = 'output/universe'

exchange = ccxt.binance({
	'enableRateLimit': True,
	'apiKey': keyring.get_password('binance', 'apiKey'),
    'secret': keyring.get_password('binance', 'secret'),
})
strategy = ttm.strategy.Universe(
	target='USDT',
	exchange_pairs=['BTC/USDT', 'ETH/USDT', 'XRP/USDT', 'BUSD/USDT', 'BTC/BUSD', 'BCH/USDT', 'BNB/USDT', 'ETH/BTC', 'LTC/USDT', 'ADA/USDT', 'DOGE/USDT', 'LINK/USDT', 'ETH/BUSD', 'ETC/USDT', 'EOS/USDT', 'DOT/USDT', 'XLM/USDT', 'LTC/BTC', 'DASH/USDT', 'FIL/USDT', 'TRX/USDT', 'BCH/BTC', 'REEF/USDT', 'ADA/BTC', 'NEO/USDT', 'USDC/USDT', 'GRT/USDT', 'VET/USDT', 'LIT/USDT', 'LINK/BTC', 'XRP/BTC', 'BNB/BTC', 'SXP/USDT', 'SKY/BTC', 'SFP/USDT', '1INCH/USDT', 'BTC/EUR', 'OMG/USDT', 'ONT/USDT', 'BNB/BUSD', 'ZEC/USDT', 'SAND/USDT', 'AVAX/USDT', 'DOT/BTC', 'ALGO/USDT', 'EUR/USDT', 'BTC/USDC', 'EOS/BTC', 'ALPHA/USDT', 'DOGE/BTC', 'ZIL/USDT', 'RVN/USDT', 'LSK/USDT', 'XTZ/USDT', 'EGLD/USDT', 'XVS/USDT', 'ATOM/USDT', 'LUNA/USDT', 'XLM/BTC', 'TRX/BTC', 'DASH/BTC', 'ONE/USDT', 'AAVE/USDT', 'ETC/BTC', 'UNI/USDT', 'YFI/USDT', 'IOTA/USDT', 'IOST/USDT', 'WAVES/USDT', 'XMR/USDT', 'BTCUP/USDT', 'ADA/BUSD', 'REEF/BTC', 'THETA/USDT', 'QTUM/USDT', 'SUSHI/USDT', 'CVC/USDT', 'RSR/USDT', 'NEO/BTC', 'GRT/BTC', 'VET/BTC', 'XTZ/BTC', 'RVN/BTC', 'OMG/BTC', 'ETH/EUR', 'XMR/BTC', 'SXP/BTC', 'WAVES/BTC', 'LSK/BTC', 'SNX/USDT', 'CRV/USDT', 'REP/USDT', 'BAND/USDT', 'WTC/USDT', 'MATIC/USDT', 'USDC/BUSD', 'ZRX/USDT', 'CTXC/USDT', 'LIT/BTC', 'FIL/BTC', 'SAND/BTC', 'GBP/USDT', 'BTC/GBP', 'XRP/BUSD', 'ZIL/BTC', 'ALGO/BTC', 'ICX/USDT', 'KAVA/USDT', 'ZEC/BTC', 'VTHO/USDT', 'TOMO/USDT', '1INCH/BTC', 'LTC/BUSD', 'ONE/BTC', 'WBTC/BTC', 'EOS/BUSD', 'BCH/BUSD', 'LINK/BUSD', 'ETHUP/USDT', 'ADA/ETH', 'SOL/USDT', 'USDT/TRY', 'NEAR/USDT', 'LUNA/BTC', 'ATOM/BTC', 'BNB/ETH', 'AVAX/BTC', 'ADA/EUR', 'XEM/USDT', 'ETH/USDC', 'YFII/USDT', 'YFI/BTC', 'SFP/BTC', 'MANA/USDT', 'RUNE/USDT', 'XRP/EUR', 'OCEAN/USDT', 'PNT/USDT', 'IOST/BTC', 'THETA/BTC', 'BTCDOWN/USDT', 'ONT/BTC', 'ETH/GBP', 'AAVE/BTC', 'BAT/USDT', 'CTSI/USDT', 'DOGE/BUSD', 'RLC/USDT', 'DOT/BUSD', 'XRPUP/USDT', 'WRX/USDT', 'XEM/BTC', 'QTUM/BTC', 'BTT/USDT', 'EGLD/BTC', 'CHZ/USDT', 'IOTA/BTC', 'COMP/USDT', 'REN/USDT', 'SNX/BTC', 'FTM/USDT', 'UNI/BTC', 'FET/USDT', 'SRM/USDT', 'XVS/BTC', 'XVG/BTC', 'BTC/AUD', 'BAND/BTC', 'SUSHI/BTC', 'BTC/TRY', 'BTC/PAX', 'CAKE/BUSD', 'LRC/USDT', 'TUSD/USDT', 'BNB/EUR', 'BTG/BTC', 'AXS/USDT', 'ALPHA/BTC', 'FLM/USDT', 'KNC/BTC', 'ENJ/USDT', 'WTC/BTC', 'LTCUP/USDT', 'STORJ/USDT', 'KNC/USDT', 'VIB/BTC', 'STRAX/USDT', 'ANKR/USDT', 'NANO/USDT', 'EUR/BUSD', 'UNIDOWN/USDT', 'MATIC/BTC', 'ZEN/USDT', 'LINK/ETH', 'ETHDOWN/USDT', 'ETC/BUSD', 'HBAR/USDT', 'EOSUP/USDT', 'CTXC/BTC', 'SXP/BUSD', 'FILUP/USDT', 'REP/BTC', 'RSR/BTC', 'CELR/USDT', 'LINKUP/USDT', 'SFP/BUSD', 'LTC/ETH', 'GTO/USDT', 'DNT/USDT', 'XLM/BUSD', 'BTCST/USDT', 'XRP/ETH', 'RLC/BTC', 'COTI/USDT', 'CELR/BTC', 'XTZUP/USDT', 'DOGE/EUR', 'AVAX/TRY', 'LTC/EUR', 'BAT/BTC', 'RUNE/BTC', 'KSM/USDT', 'WIN/USDT', 'SXPUP/USDT', 'TOMO/BTC', 'BCD/BTC', 'GHST/BUSD', 'ICX/BTC', 'BQX/BTC', 'NEBL/BTC', 'TRB/USDT', 'AGI/BTC', 'BTS/USDT', 'DIA/USDT', 'BTC/TUSD', 'REN/BTC', 'CTK/USDT', 'ANT/USDT', 'PAX/USDT', 'MKR/USDT', 'FET/BTC', 'INJ/USDT', 'GBP/BUSD', 'TRXUP/USDT', 'EOS/ETH', 'TWT/USDT', 'CAKE/BNB', 'ROSE/USDT', 'ZRX/BTC', 'HARD/USDT', 'SOL/BTC', 'SKL/USDT', 'AKRO/USDT', 'USDT/DAI', 'CVC/BTC', 'ANKR/BTC', 'LIT/BUSD', 'OXT/USDT', 'XVS/BNB', 'VET/BUSD', 'UNFI/USDT', 'XRPDOWN/USDT', 'COCOS/USDT', 'DASH/BUSD', 'COTI/BTC', 'BUSD/DAI', 'DNT/BTC', 'WAN/USDT', 'STRAX/BTC', 'TFUEL/USDT', 'BZRX/USDT', 'SC/USDT', 'NMR/USDT', 'BAL/USDT', 'OCEAN/BTC', 'BEL/USDT', 'CRV/BTC', 'LINKDOWN/USDT', 'EOSDOWN/USDT', 'AUD/USDT', 'EGLD/BUSD', 'BNBUP/USDT', 'WRX/BTC', 'MANA/BTC', 'ENJ/BTC', 'CTSI/BTC', 'DIA/BTC', 'NANO/BTC', 'UMA/USDT', 'LTO/BTC', 'FIL/BUSD', 'ARK/BTC', 'BNT/USDT', 'XLMUP/USDT', 'DENT/USDT', 'DIA/BTC', 'CTSI/BTC', 'BAL/USDT', 'ETH/DAI', 'EASY/ETH', 'STX/USDT', 'XVS/BUSD', 'BTC/DAI', 'BLZ/BTC', 'XRPDOWN/USDT', 'NULS/USDT', 'MANA/BTC', 'COMP/BTC', 'BTC/BRL', 'LRC/BTC', 'LINKDOWN/USDT', 'ADA/USDC', 'UMA/USDT', 'AXS/BTC', 'TFUEL/USDT', 'WAN/USDT', 'STMX/USDT', 'TRX/ETH', 'NEAR/BTC', 'VET/ETH', 'WRX/BTC', 'HBAR/BTC', 'KMD/USDT', 'BCH/EUR', 'HOT/USDT', 'ADA/BNB', 'BNB/TRY', 'ETH/PAX', 'VIDT/BTC', 'PROM/BUSD', 'BNT/USDT', 'TRX/BUSD', 'CKB/USDT', 'XRP/TRY', 'EOSDOWN/USDT', 'ONE/BUSD', 'CELO/USDT', 'TUSD/BUSD', 'YFIUP/USDT', 'COVER/BUSD', 'ZIL/BUSD', 'BTCST/USDT', 'DATA/USDT', 'DOGE/TRY', 'TFUEL/BTC', 'SAND/BUSD', 'NEO/BUSD', 'JST/USDT', 'DASH/BUSD', 'OGN/USDT', 'AVAX/BUSD', 'DOT/EUR', 'INJ/BTC', 'STPT/USDT', 'SRM/BTC', 'LTC/USDC', 'GAS/BTC', 'LINK/USDC', 'XRP/USDC', 'LUNA/BUSD', 'SPARTA/BNB', 'HIVE/USDT', 'UNFI/BTC', 'XRP/GBP', 'RVN/BUSD', 'KSM/BTC', 'CHZ/BTC', 'ETH/TUSD', 'TRU/USDT', 'XRP/BNB', 'KMD/BTC', 'NPXS/USDT', 'AION/USDT', 'GRT/ETH', 'RIF/BTC', 'ETH/TRY', 'AKRO/BTC', 'DGB/USDT', 'FTM/BTC', 'SUSHIUP/USDT', 'ALGO/BUSD', 'DGB/BTC', 'IOTX/USDT', 'TROY/USDT', 'DOTUP/USDT', 'ADADOWN/USDT', 'CHR/USDT', 'LINK/EUR', 'STMX/BTC', 'SUN/USDT', 'NMR/USDT', 'FIL/BNB', 'AAVEUP/USDT', 'BNB/USDC', 'FILDOWN/USDT', 'EOS/TUSD', 'BUSD/TRY', 'ARPA/USDT', 'BCH/BNB', 'SC/BTC', 'DOT/BNB', 'POLY/BTC', 'BAKE/BNB', 'LSK/ETH', 'XTZDOWN/USDT', 'WBTC/ETH', 'ROSE/BTC', 'PERL/USDT', 'XMR/ETH', 'YFIDOWN/USDT', 'STX/BTC', 'XLM/EUR', 'COS/USDT', 'UNIUP/USDT', 'KEY/USDT', 'UTK/BTC', 'NEO/ETH', 'TRXDOWN/USDT', 'CREAM/BUSD', 'WAVES/BUSD', 'QKC/BTC', 'BNT/BTC', 'BCH/USDC', 'YFII/BTC', 'LOOM/BTC', 'FLM/BTC', 'ONT/BUSD', 'ONE/BNB', 'DUSK/BTC', 'WAN/BTC', 'DUSK/USDT', 'VIDT/BUSD', 'ZEN/BTC', 'BETH/ETH', 'TROY/BTC', 'PROM/BNB', 'BNBDOWN/USDT', 'ATOM/BUSD', 'ALPHA/BUSD', 'SXPDOWN/USDT', 'AAVE/BUSD', 'DASH/ETH', 'WING/USDT', 'RIF/USDT', 'TRB/BTC', 'MKR/BTC', 'XLM/ETH', 'NMR/BTC', 'FUN/USDT', 'BAL/BTC', 'IRIS/USDT', 'LTC/BNB', 'ORN/USDT', 'MITH/USDT', 'MATIC/BUSD', 'AVA/USDT', 'UNI/BUSD', 'BEL/BTC', 'FTT/BTC', 'FIRO/USDT', 'VET/BNB', 'SKL/BTC', 'RVN/BNB', 'ORN/BTC', 'KP3R/BUSD', 'BZRX/BTC', 'ETC/ETH', 'XLMDOWN/USDT', 'SXP/EUR', 'TRU/BTC', 'YFI/BUSD', 'POWR/BTC', 'ONG/USDT', 'MDA/BTC', 'AERGO/BTC', 'ARPA/BTC', 'COS/BTC', 'SAND/BNB', 'STEEM/BTC', 'BCHA/BUSD', 'UMA/BTC', 'AUD/BUSD', 'AUDIO/USDT', 'BEAM/USDT', 'CHR/BTC', 'BOT/BUSD', 'SXP/BNB', 'DATA/BTC', 'XVG/ETH', 'LRC/ETH', 'SNX/BUSD', 'ADX/BTC', 'SUSHI/BUSD', 'GHST/ETH', 'AVA/BTC', 'NBS/USDT', 'USDT/BRL', 'OXT/BTC', 'ETH/AUD', 'GVT/BTC', 'ATM/USDT', 'STRAX/BUSD', 'VTHO/BNB', 'AION/BTC', 'PSG/USDT', 'IOTA/BUSD', 'AAVEDOWN/USDT', 'SXP/TRY', 'DOTDOWN/USDT', 'FUN/BTC', 'ICX/BUSD', 'STPT/BTC', 'BTC/NGN', 'MDT/BTC', 'AUDIO/BTC', 'AST/BTC', 'IOTX/BTC', 'IRIS/BTC', 'BTC/RUB', 'ELF/BTC', 'SOL/BUSD', 'ZEC/BUSD', 'JUV/USDT', 'DOCK/BTC', 'MTL/BTC', 'DENT/ETH', 'GO/BTC', 'GTO/BTC', 'EGLD/BNB', 'SCRT/BTC', 'ZIL/ETH', 'BTS/BTC', 'NEBL/BTC', 'BAND/BNB', 'NAS/BTC', 'LTO/USDT', 'DREP/USDT', 'CTK/BTC', 'ANT/BTC', 'XMR/BUSD', 'MTL/USDT', 'AAVE/ETH', 'PROS/ETH', 'OST/BTC', 'OGN/BTC', 'PAXG/USDT', 'IDEX/BTC', 'WNXM/USDT', 'TRX/USDC', 'SLP/ETH', 'FIO/USDT', 'WAVES/BNB', 'CRV/BUSD', 'PHB/BTC', 'AERGO/BUSD', 'AVAX/BNB', 'IOTA/ETH', 'YOYO/BTC', 'HARD/BTC', 'DREP/BTC', 'HIVE/BTC', 'CKB/BTC', 'ASR/USDT', 'GLM/BTC', 'SNT/BTC', 'SYS/BTC', 'BOT/BTC', 'OCEAN/BUSD', 'BEAM/BTC', 'EOS/USDC', 'ONT/ETH', 'NEO/BNB', 'FIRO/BTC', 'QTUM/BUSD', 'BNB/AUD', 'MANA/BUSD', 'VIB/ETH', 'OG/USDT', 'PERL/BTC', 'ONG/BTC', 'ZRX/BUSD', 'LTCDOWN/USDT', 'OMG/ETH', 'CELO/BTC', 'WABI/BTC', 'PPT/BTC', 'JST/BTC', 'DOCK/USDT', 'DASH/BNB', 'STRAX/ETH', 'OAX/BTC', 'UNI/BNB', 'ARDR/BTC', 'ZEC/USDC', 'MDT/USDT', 'OAX/BTC', 'TWT/BTC', 'DCR/BTC', 'BQX/ETH', 'BRD/BTC', 'HNT/BTC', 'SNM/BTC', 'ASR/BTC', 'USDT/RUB', 'DEXE/BUSD', 'ETH/BRL', 'ALPHA/BNB', 'WING/BTC', 'TCT/BTC', 'XLM/TRY', 'EOS/EUR', 'HEGIC/BUSD', 'SUSHIDOWN/USDT', 'XLM/BNB', 'NANO/BUSD', 'EOS/BNB', 'TCT/USDT', 'WAVES/ETH', 'MITH/BTC', 'BURGER/BNB', 'TRX/XRP', 'DLT/BTC', 'ENJ/BUSD', 'SNGLS/BTC', 'SUN/BTC', 'RSR/BUSD', 'EVX/BTC', 'DCR/USDT', 'ZEC/ETH', 'THETA/ETH', 'TRX/TRY', 'NEAR/BUSD', 'WRX/BNB', 'FRONT/BUSD', 'ICX/ETH', 'DEXE/ETH', 'LINK/TRY', 'ARDR/USDT', 'VITE/USDT', 'BTCST/BTC', 'NBS/BTC', 'COMP/BUSD', 'YFI/EUR', 'BNB/BRL', 'IQ/BUSD', 'PAX/BUSD', 'BTC/BIDR', 'AMB/BTC', 'BTC/UAH', 'PIVX/BTC', 'HBAR/BUSD', 'POA/BTC', 'TRX/BNB', 'RUNE/BUSD', 'GRS/BTC', 'REQ/BTC', 'MFT/ETH', 'FIO/BTC', 'COVER/ETH', 'BTT/BUSD', 'ZRX/ETH', 'BTCST/BUSD', 'APPC/BTC', 'QSP/BTC', 'ETC/BNB', 'SWRV/BUSD', 'CTSI/BNB', 'CVP/BUSD', 'RLC/ETH', 'AXS/BUSD', 'CTSI/BUSD', 'XEM/ETH', 'ZIL/BNB', 'IOTX/ETH', 'ALGO/BNB', 'GLM/ETH', 'BUSD/BRL', 'IOST/ETH', 'BNB/DAI', 'NKN/USDT', 'NAS/ETH', 'USDT/BIDR', 'HOT/ETH', 'CREAM/BNB', 'SRM/BUSD', 'FOR/BTC', 'HEGIC/ETH', 'IQ/BNB', 'CDT/BTC', 'NPXS/ETH', 'NKN/BTC', 'BAT/BUSD', 'RCN/BTC', 'ENJ/ETH'],
	minimal_profit=0.3,  # percent
	path_length=4,
	tick_period=5,
	timeframe='5m',
)
storage = ttm.storage.JSONFile(data_folder + '/storage-universe.json')  # storage for strategy data
cache = ttm.storage.JSONFile('cache-universe.json')                     # storage for performance optimalisation

logger = ttm.logger.Multi(
	ttm.logger.Console(min_priority=0),
	ttm.logger.CSVFile(data_folder + '/log.csv', min_priority=1),
	ttm.logger.CSVFile(data_folder + '/log-all.csv', min_priority=0),
	# ttm.logger.CSVFile('C:/Users/mikolas/Google Drive/sync/ttm-log.csv', min_priority=0),
	# ttm.logger.Gmail(to='nanuqcz@gmail.com', login='nanuqcz@gmail.com', min_priority=2),  # register gmail password to keyring first: https://github.com/kootenpv/yagmail#username-and-password
	# ttm.logger.Telegram(
	# 	token=keyring.get_password('telegram', 'chatbotToken'),        # secures the Telegram bot
	# 	password=keyring.get_password('telegram', 'chatbotPassword'),  # secures the TTM bot
	# 	root_folder=data_folder
	# ),
)
logger.set_pair('BTC/EUR')

bot = ttm.bot.Real(exchange, strategy, storage, cache, logger)

#
# Run
#
bot.run()
